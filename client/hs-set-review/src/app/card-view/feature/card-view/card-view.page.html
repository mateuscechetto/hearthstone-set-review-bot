<div class="flex  mr-8">
    <p-button *ngIf="loggedUser && !loggedUser.isStreamer && pageUser?.name == loggedUser.name; else notStreamer"
        class="mr-auto" label="I'm a streamer" (onClick)="onUserIsStreamer()"></p-button>
    <p-button *ngIf="loggedUser; else loginButton" class="ml-auto" label="Logout"
        (onClick)="logout()"></p-button>
    <ng-template #loginButton>
        <p-button class="ml-auto" label="Login" (onClick)="login()"></p-button>
    </ng-template>
    <ng-template #notStreamer>
        <p-button *ngIf="loggedUser && loggedUser.name == pageUser?.name" class="mr-auto " styleClass="p-button-danger" label="I'm not a streamer"
            (onClick)="onUserIsNOTStreamer()"></p-button>
    </ng-template>
</div>
<p-dataView #dv [value]="cards" [layout]="layout">
    <ng-template let-card pTemplate="gridItem">
        <app-card-grid-item [card]="card" [userImg]="pageUser?.image ?? ''" (imageClick)="showModal($event)"
            [isLoggedUser]="pageUser?.name == loggedUser?.name" [isUserStreamer]="!!pageUser?.isStreamer"
            [streamerView]="!!loggedUser && loggedUser.isStreamer && pageUser?.name == loggedUser.name"
            (changedRate)="onChangedRate($event)" (recordChat)="onRecordChat($event)"
            (stopRecording)="onStopRecording($event)"></app-card-grid-item>
    </ng-template>
</p-dataView>
<div *ngIf="shouldShowModal && modalCard">
    <app-card-view-modal [(shouldShowModal)]="shouldShowModal" [card]="modalCard" (changedCard)="changeCard($event)"
        [isLoggedUser]="pageUser?.name == loggedUser?.name" [isUserStreamer]="!!pageUser?.isStreamer"
        [streamerView]="!!loggedUser && loggedUser.isStreamer && pageUser?.name == loggedUser.name"
        (changedRate)="onChangedRate($event)"></app-card-view-modal>
</div>